<div class="page-dashboard">
  <h1>DASHBOARD</h1>
  <div class="tables card">
    <div class="table">
      <div class="table-title">
        <h2>PRÓXIMOS ATENDIMENTOS</h2>
        <h3>TOTAL: {{ nextAgenda.length }}</h3>
      </div>
      @if (nextAgenda.length > 0) {
      <table>
        <thead>
          <tr>
            <th>Serviço</th>
            <th>Cliente</th>
            <th>Data</th>
            <th>Horário</th>
          </tr>
        </thead>
        <tbody>
          @for (item of nextAgenda; track item) {
            <tr>
              <td>{{ item.servico.nome_servico }}</td>
              <td>{{ item.pet.dono.nome }}</td>
              <td>{{ formatDate(item.data_agendamento) }}</td>
              <td>{{ formatHours(item.hora_agendamento) }}</td>
            </tr>
          }
        </tbody>
      </table>
    } @else {
      <h3 style="text-align: center;">Nenhum agendamento futuro encontrado</h3>
    }
    </div>
    <div class="table">
      <div class="table-title">
        <h2>ÚLTIMOS ATENDIMENTOS</h2>
        <h3>TOTAL: {{ prevAgenda.length }}</h3>
      </div>
      @if (prevAgenda.length > 0) {
        <table>
          <thead>
            <tr>
              <th>Serviço</th>
              <th>Cliente</th>
              <th>Data</th>
              <th>Horário</th>
            </tr>
          </thead>
          <tbody>
            @for (item of prevAgenda; track item) {
            <tr>
              <td>{{ item.servico.nome_servico }}</td>
              <td>{{ item.pet.dono.nome }}</td>
              <td>{{ formatDate(item.data_agendamento) }}</td>
              <td>{{ formatHours(item.hora_agendamento) }}</td>
            </tr>
            }
          </tbody>
        </table>
      } @else {
        <h3 style="text-align: center;">Nenhum agendamento anterior encontrado</h3>
      }
    </div>
  </div>
  <div class="usuarios card">
    <div class="title">
      <h2>USUÁRIOS CADASTRADOS</h2>
    </div>
    <h2 class="total-usuarios">{{ usuariosTotal }}</h2>
  </div>
  <div class="servicos card">
    <h2 class="title">SERVIÇOS MAIS AGENDADOS</h2>
    <div class="servicos-content">
      @for (servico of servicosTotal; track servico) {
      <div class="servico">
        <h3>{{ servico.nome_servico }}</h3>
        <h3>{{ servico.agendamentos_count }}</h3>
      </div>
      }
    </div>
  </div>
  <div class="animais card">
    <h2 class="title">ANIMAIS MAIS ATENDIDOS</h2>
    <div class="animais-content">
      @for (animal of animaisTotal; track animal) {
      <div class="animal">
        <h3>{{ animal.tipo_animal }}</h3>
        <h3>{{ animal.total }}</h3>
      </div>
      }
    </div>
  </div>
</div>
